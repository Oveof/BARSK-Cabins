<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>BARSK hytter</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="cabin.css">
</head>

<body>
  <div id="wrapper">
  <header>
    <h1>BARSK</h1>
    <ul>
      <li><a href="index.html">Hjem</a></li>
      <li><a href="ticket.html">Heiskort</a></li>
      <li><a href="cabin.html">Hytter</a></li>
    </ul>
  </header>
    <div id="main">
      <div id="menu">
        <img id="cabins" src="src/menybilde.jpg" usemap="#cabinmap" alt="">
        <map name="cabinmap">
          <area id="Grantoppen" shape="rect" coords="(150, 245, 445, 433)">
          <area id="Granbo" shape="rect" coords="(478, 147, 647, 275)">
          <area id="Granstua" shape="rect" coords="(650, 215, 825, 360)">
          <area id="Granhaug" shape="rect" coords="(826, 212, 968 , 326)">
        </map>
      </div>
      <div id="display">
        <table id="displayTable">

        </table>
      </div>
      <div id="gallery">
  
      </div>
    </div>
    <footer>

    </footer>
  </div>
</body>

</html>
<script>

</script>

<script>
  var cabins = [
    {
      name: "Granstua",
      beds: 4,
      standard: "Høy",
      sauna: true,
      price: 12000,
      images: 3
    },
    {
      name: "Granbo",
      beds: 6,
      standard: "Middels",
      sauna: false,
      price: 15000,
      images: 3
    },
    {
      name: "Grantoppen",
      beds: 8,
      standard: "Lav",
      sauna: false,
      price: 16000,
      images: 3
    },
    {
      name: "Granhaug",
      beds: 10,
      standard: "Høy",
      sauna: true,
      price: 30000,
      images: 3
    }
  ]
  var cabinMap = document.getElementById('cabins');
  var grantoppen = document.getElementById('Grantoppen');
  var granbo = document.getElementById('Granbo');
  var granstua = document.getElementById('Granstua');
  var granhaug = document.getElementById('Granhaug');
  var display = document.getElementById('display');
  var displayTable = document.getElementById('displayTable');
  var gallery = document.getElementById('gallery');
  grantoppen.addEventListener('click', displayCabin);
  granbo.addEventListener('click', displayCabin);
  grantoppen.addEventListener('click', displayCabin);
  granhaug.addEventListener('click', displayCabin);

  function loadImages(name, amount) {
    var imageName = name;
    for (let i = 0; i < amount; i++) {
      imageName += i + ".jpg";
      var img = document.createElement('img')
      img.href = imageName;
      gallery.appendChild(img);
    }
  }

  function displayCabin() {
    //Arrow function to find the specific index
    display.innerHTML = "";
    var id = cabins.findIndex(cabin => cabin.name == this.id);
    displayTable.innerHTML = `<tr><th>Hyttenavn</th><th>Senger</th><th>Standard</th><th>Sauna</th><th>Pris</th></tr>`
    displayTable.innerHTML += "<tr>"
    for (var property in cabins[id]) {
      displayTable.innerHTML += `<td>${cabins[id][property]}</td>`
      
      
    }

    loadImages(cabins[id].name, cabins[id].images);

    displayTable.innerHTML += "</tr>"
    display.scrollIntoView();
  }
  var mapHeight = cabinMap.height;
  var mapWidth = cabinMap.width;
  grantoppen.coords = `(${150/1280*mapWidth}, ${245/720*mapHeight}, ${445/1280*mapWidth}, ${433/720*mapHeight})`
  granbo.coords = `(${478/1280*mapWidth}, ${147/720*mapHeight}, ${647/1280*mapWidth}, ${275/720*mapHeight})`
  granstua.coords = `(${650/1280*mapWidth}, ${215/720*mapHeight}, ${825/1280*mapWidth}, ${360/720*mapHeight})`
  granhaug.coords = `(${826/1280*mapWidth}, ${212/720*mapHeight}, ${968/1280*mapWidth}, ${326/720*mapHeight})`
 
</script>